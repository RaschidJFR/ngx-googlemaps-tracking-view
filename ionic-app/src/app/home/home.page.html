<ion-content [fullscreen]="true">

  <div class="container text-center bg-white" id="header">
    <h3>Tracking View Demo</h3>
    <p class="mb-0"><small>
        This demo shows 50 real-time aircrafts flying over the location, updated every 10 seconds.
        <a href="https://raschidjfr.github.io/ngx-googlemaps-tracking-view/reference/">See Documentation</a>
      </small></p>
  </div>
  <!-- Center Pin Example -->
  <button (click)="map.centerPin.enable(infowindowLocation, '<yourApiKey>')">Add center Pin</button>
  <button (click)="map.centerPin.disable()">Remove Pin</button>
  <ng-template #infowindowLocation let-address>
    <div style="min-height: 20px; min-width: 50px;">
      <span *ngIf="!address">Loading...</span>
      <div *ngIf="!!address">
        {{address}}
        <br>
        <button (click)="map.centerPin.fix = !map.centerPin.fix">{{map.centerPin.fix ? 'Unfix' : 'Fix'}}</button>
      </div>
    </div>
  </ng-template>

  <div id="parent">
    <gmtv-map [data]="objectsToTrack"
              [triggerInfowindow]="isMobile ? 'click' : 'hover'"
              [template]="infowindow"
              [mapOptions]="mapOptions"
              [showLocationButton]="true"
              #map>
      <ng-template #infowindow let-o>
        <div>
          <h3>Flight #{{o.label?.text}} <span class="flag-icon flag-icon-{{getIsoCode(o.country)?.toLowerCase()}}"
                  [title]="o.country"></span></h3>
          <span><strong>Altitude: </strong>{{o.altitude | number: '1.0-0'}}m</span>
        </div>
      </ng-template>
    </gmtv-map>

    <gmtv-geolocation-button></gmtv-geolocation-button>

  </div>

</ion-content>